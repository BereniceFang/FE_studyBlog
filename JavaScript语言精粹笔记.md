JavaScript语言精粹笔记

# 对象

* JavaScript简单数据类型: number string null undefined boolean; 其余所有值都是对象
  * `typeof([1,2,3])`或`typeof(null)`时返回object
  * `typeof()`返回值包括: number string boolean undefined function object
* 对象是属性的容器
  * 属性的名字可以包括空字符串, 如果是保留字要用引号括住
  * 属性的值可以是undefined以外的任何值
* 检索时,可以用"."找到对象的属性,如果是不存在的属性,将返回"undefined"
  * 可以用"||"填充默认值, eg: `var a = obj.a || "unkown"`
  * 可以用"&&"来避免错误, eg: `obj.a.b // TypeError`而`obj.a && obj.a.b // undefined`
* 通过引用来传递, 不会被复制
* 每个对象都连接到一个原型对象,通过对象字面量创建的对象连接Object.prototype
  * 原型链只有在检索的时候才被用到, 如果我们想获取的值没有在对象中找到, 则会尝试通过原型链向上寻找, 知道最后找到Object.prototype, 这个过程叫做委托
  * 原型关系是动态的, 如果把新的属性添加到原型中, 它的实例化对象也都可以用这个新添加的方法
* 检查对象有什么属性可以通过操作符判断类型
  * `typeof()`, 原型链中的属性也会产生值, eg: `typeof(a.toString) // 'function'`
  * `hasOwnProperty()`, 这个方法不会检查原型链, 如果是对象的独有属性会返回'true'
* 可以用 for in 枚举对象中的属性, 如果不关心原型中的属性可以用hasOwnProperty方法过滤
  * for in 可能是不按顺序的枚举, 考虑顺序要用原始的for, 而且不用担心会有原型链中的属性 
* 可以用delete运算符删除对象的某个属性,是原型链上的这个属性透现出来
* 对象可以用来减少全局变量污染, 把全局性资源都纳入到一个名称空间里, 会降低与其他应用程序、组建之间发生冲突的可能
  * eg:
    `
      var MyApp = {}
      MyApp.a = {}
      MyApp.b = {}
    `

###

# 函数

* 函数对象连接到Function.prototype, 这个原型对象连接到Object.prototype
* 函数被创建是会附加两个隐藏属性: 函数上下文和"调用"属性(调用函数时可以理解为在调用这个"调用"属性)
* 函数的prototype属性的值是一个对象, 这个对象包括一个constructor属性, constructor属性的值是该函数本身
* 因为函数是对象所以可以保存在变量、对象、数组中, 可以当做参数传递给其他函数, 也可以被其他函数返回, 也可以用有自己的方法; 与对象不同的地方在于可以被调用
* 当一个函数被定义在其他函数内部, 他可以访问自己的与父函数的参数与变量; 通过字面量创建的函数包含一个连接到外部的上下文, 即闭包
* 调用函数会暂停当前函数的执行,传递控制权和参数给新函数
  * 除了声明定义的形参,函数还接受 this和arguments
    * this取决于调用模式: 方法调用 函数调用 构造器调用 apply调用
      * 方法调用
      * 函数调用
      * 构造器调用
      * apply调用
  * 实际参数与形参个数不匹配时,如果形参多,则会用undefined代替缺失的值; 实参多,超出的会被忽略
    * tips: 虽然没有重载,但是可以通过传不同数量的参数模拟重载



